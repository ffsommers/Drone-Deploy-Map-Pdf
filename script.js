$("#pdf-container").on("click",function(){
  dronedeployApiInitialze()
   
  
});

function dronedeployApiInitialze() {
   new DroneDeploy({version: 1}).then(function(api){
     api.Plans.getCurrentlyViewed()
      .then(function(plan){
        return fetchTileDataFromPlan(api, plan);
      })
        .then(processResponse)
        .then(sendTileDataToNodeServer)
        .then(generatePDF)
    })
} 

function fetchTileDataFromPlan(api, plan) {
  return api.Tiles.get({planId: String(plan.id), layerName: 'ortho', zoom: 16});
}

function processResponse(response) {
  return response.tiles;
}

function sendTileDataToNodeServer(tiles) {
  const url = 'https://drone-deploy-image-server.herokuapp.com/tiles/';
  const body = JSON.stringify({
    'tile': tiles
  });
  return fetch(url, {
    method: 'POST',
    headers : new Headers({
        'Content-Type': 'application/json'
    }),
    body: body
  })
    .then((res) => res.json())
    .then((rjson) => rjson);
}

function generatePDF(responseTiles) {
  const docDefinition = pdfContent(responseTiles);
  pdfMake.createPdf(docDefinition).open();
}


function pdfContent(tilesArray) {
  var currentdate = new Date(); 
  var datetime = "PDF Generated On: " + currentdate.getDate() + "/"
                                + (currentdate.getMonth()+1)  + "/" 
                                + currentdate.getFullYear() + " @ "  
                                + currentdate.getHours() + ":"  
                                + currentdate.getMinutes() + ":" 
                                + currentdate.getSeconds();

  let content = [{image: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQACWAJYAAD/4QEWRXhpZgAATU0AKgAAAAgACAEGAAMAAAABAAIAAAESAAMAAAABAAEAAAEaAAUAAAABAAAAbgEbAAUAAAABAAAAdgEoAAMAAAABAAIAAAExAAIAAAAmAAAAfgEyAAIAAAAUAAAApIdpAAQAAAABAAAAuAAAAAAACV//AAAEAAAJX/8AAAQAQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDExLjAgV2luZG93cwAyMDE0OjA3OjIyIDA4OjM1OjA3AAAFkAAABwAAAAQwMjIxkAQAAgAAABQAAAD6oAEAAwAAAAEAAQAAoAIABAAAAAEAAADIoAMABAAAAAEAAAArAAAAADIwMTQ6MDc6MTIgMTc6MjQ6NDIA/+EP8Gh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOk1vZGlmeURhdGU9IjIwMTQtMDctMjJUMDg6MzU6MDctMDc6MDAiIHhtcDpDcmVhdGVEYXRlPSIyMDE0LTA3LTEyVDE3OjI0OjQyLTA3OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE0LTA3LTIyVDA4OjM1OjA3LTA3OjAwIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBFbGVtZW50cyAxMS4wIFdpbmRvd3MiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkVEQTcyQzJCNTExRTQxMTlCQ0FCNjRBQ0E3QUZDNEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzBGRDhCMEMyNDBBRTQxMTk3MEI4MEVENDRERjkwMzYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDozMEZEOEIwQzI0MEFFNDExOTcwQjgwRUQ0NERGOTAzNiIgZGM6Zm9ybWF0PSJpbWFnZS9qcGVnIiBwaG90b3Nob3A6TGVnYWN5SVBUQ0RpZ2VzdD0iMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBXaW5kb3dzIiBzdEV2dDp3aGVuPSIyMDE0LTA3LTEyVDE3OjE0OjI4LTA3OjAwIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjMwRkQ4QjBDMjQwQUU0MTE5NzBCODBFRDQ0REY5MDM2IiBzdEV2dDphY3Rpb249ImNyZWF0ZWQiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNvbnZlcnRlZCIgc3RFdnQ6cGFyYW1ldGVycz0iZnJvbSBpbWFnZS9wbmcgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBFbGVtZW50cyAxMS4wIFdpbmRvd3MiIHN0RXZ0OmNoYW5nZWQ9Ii8iIHN0RXZ0OndoZW49IjIwMTQtMDctMTJUMTc6MjQ6MjctMDc6MDAiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MzFGRDhCMEMyNDBBRTQxMTk3MEI4MEVENDRERjkwMzYiIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiLz4gPHJkZjpsaSBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBXaW5kb3dzIiBzdEV2dDpjaGFuZ2VkPSIvIiBzdEV2dDp3aGVuPSIyMDE0LTA3LTIyVDA4OjM1OjA3LTA3OjAwIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJEREE3MkMyQjUxMUU0MTE5QkNBQjY0QUNBN0FGQzRFIiBzdEV2dDphY3Rpb249InNhdmVkIi8+IDxyZGY6bGkgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIEVsZW1lbnRzIDExLjAgV2luZG93cyIgc3RFdnQ6Y2hhbmdlZD0iLyIgc3RFdnQ6d2hlbj0iMjAxNC0wNy0yMlQwODozNTowNy0wNzowMCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyRURBNzJDMkI1MTFFNDExOUJDQUI2NEFDQTdBRkM0RSIgc3RFdnQ6YWN0aW9uPSJzYXZlZCIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/PgD/7QBkUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAACwcAVoAAxslRxwCAAACAAIcAj4ACDIwMTQwNzEyHAI/AAsxNzI0NDItMDcwMDhCSU0EJQAAAAAAEGAxfMjArx5FHiiHoHBheTf/wgARCAArAMgDAREAAhEB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', style: 'logo' },
   { text: datetime, style: 'header' } ];
  const contentStyle = {
    logo: {
        background: '#ced4dd'
    },
    header: {
      fontSize: 14,
      bold: true
    }
  };
  for (let i = 0; i < tilesArray.length; i++) {
    content.push({
      image: `data:image/jpeg;base64,${tilesArray[i]}`
    });
  }
  return (
  {
    content: content,
    styles: contentStyle,

  }
  );
}
